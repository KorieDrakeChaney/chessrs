pub const RANK_1: u64 = 0b0000000000000000000000000000000000000000000000000000000011111111;
pub const RANK_2: u64 = 0b0000000000000000000000000000000000000000000000001111111100000000;
pub const RANK_3: u64 = 0b0000000000000000000000000000000000000000111111110000000000000000;
pub const RANK_4: u64 = 0b0000000000000000000000000000000011111111000000000000000000000000;
pub const RANK_5: u64 = 0b0000000000000000000000001111111100000000000000000000000000000000;
pub const RANK_6: u64 = 0b0000000000000000111111110000000000000000000000000000000000000000;
pub const RANK_7: u64 = 0b0000000011111111000000000000000000000000000000000000000000000000;
pub const RANK_8: u64 = 0b1111111100000000000000000000000000000000000000000000000000000000;

pub const FILE_A: u64 = 0b0000000100000001000000010000000100000001000000010000000100000001;
pub const FILE_B: u64 = 0b0000001000000010000000100000001000000010000000100000001000000010;
pub const FILE_C: u64 = 0b0000010000000100000001000000010000000100000001000000010000000100;
pub const FILE_D: u64 = 0b0000100000001000000010000000100000001000000010000000100000001000;
pub const FILE_E: u64 = 0b0001000000010000000100000001000000010000000100000001000000010000;
pub const FILE_F: u64 = 0b0010000000100000001000000010000000100000001000000010000000100000;
pub const FILE_G: u64 = 0b0100000001000000010000000100000001000000010000000100000001000000;
pub const FILE_H: u64 = 0b1000000010000000100000001000000010000000100000001000000010000000;

pub const WHITE_KING_SIDE_CASTLE: u64 =
    0b0000000000000000000000000000000000000000000000000000000001100000;
pub const WHITE_QUEEN_SIDE_CASTLE: u64 =
    0b0000000000000000000000000000000000000000000000000000000000001100;
pub const BLACK_KING_SIDE_CASTLE: u64 =
    0b0110000000000000000000000000000000000000000000000000000000000000;
pub const BLACK_QUEEN_SIDE_CASTLE: u64 =
    0b0000110000000000000000000000000000000000000000000000000000000000;

pub const START_FEN: &str = "rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";

#[derive(Debug, Clone, Copy, PartialEq, Eq, Hash)]
pub enum Square {
    A1,
    B1,
    C1,
    D1,
    E1,
    F1,
    G1,
    H1,
    A2,
    B2,
    C2,
    D2,
    E2,
    F2,
    G2,
    H2,
    A3,
    B3,
    C3,
    D3,
    E3,
    F3,
    G3,
    H3,
    A4,
    B4,
    C4,
    D4,
    E4,
    F4,
    G4,
    H4,
    A5,
    B5,
    C5,
    D5,
    E5,
    F5,
    G5,
    H5,
    A6,
    B6,
    C6,
    D6,
    E6,
    F6,
    G6,
    H6,
    A7,
    B7,
    C7,
    D7,
    E7,
    F7,
    G7,
    H7,
    A8,
    B8,
    C8,
    D8,
    E8,
    F8,
    G8,
    H8,
    UNKNOWN,
}

impl From<&str> for Square {
    fn from(value: &str) -> Self {
        match value {
            "a1" => Square::A1,
            "b1" => Square::B1,
            "c1" => Square::C1,
            "d1" => Square::D1,
            "e1" => Square::E1,
            "f1" => Square::F1,
            "g1" => Square::G1,
            "h1" => Square::H1,
            "a2" => Square::A2,
            "b2" => Square::B2,
            "c2" => Square::C2,
            "d2" => Square::D2,
            "e2" => Square::E2,
            "f2" => Square::F2,
            "g2" => Square::G2,
            "h2" => Square::H2,
            "a3" => Square::A3,
            "b3" => Square::B3,
            "c3" => Square::C3,
            "d3" => Square::D3,
            "e3" => Square::E3,
            "f3" => Square::F3,
            "g3" => Square::G3,
            "h3" => Square::H3,
            "a4" => Square::A4,
            "b4" => Square::B4,
            "c4" => Square::C4,
            "d4" => Square::D4,
            "e4" => Square::E4,
            "f4" => Square::F4,
            "g4" => Square::G4,
            "h4" => Square::H4,
            "a5" => Square::A5,
            "b5" => Square::B5,
            "c5" => Square::C5,
            "d5" => Square::D5,
            "e5" => Square::E5,
            "f5" => Square::F5,
            "g5" => Square::G5,
            "h5" => Square::H5,
            "a6" => Square::A6,
            "b6" => Square::B6,
            "c6" => Square::C6,
            "d6" => Square::D6,
            "e6" => Square::E6,
            "f6" => Square::F6,
            "g6" => Square::G6,
            "h6" => Square::H6,
            "a7" => Square::A7,
            "b7" => Square::B7,
            "c7" => Square::C7,
            "d7" => Square::D7,
            "e7" => Square::E7,
            "f7" => Square::F7,
            "g7" => Square::G7,
            "h7" => Square::H7,
            "a8" => Square::A8,
            "b8" => Square::B8,
            "c8" => Square::C8,
            "d8" => Square::D8,
            "e8" => Square::E8,
            "f8" => Square::F8,
            "g8" => Square::G8,
            "h8" => Square::H8,
            _ => Square::UNKNOWN,
        }
    }
}

impl From<u64> for Square {
    fn from(value: u64) -> Self {
        match value {
            0b0000000000000000000000000000000000000000000000000000000000000001 => Square::A1,
            0b0000000000000000000000000000000000000000000000000000000000000010 => Square::B1,
            0b0000000000000000000000000000000000000000000000000000000000000100 => Square::C1,
            0b0000000000000000000000000000000000000000000000000000000000001000 => Square::D1,
            0b0000000000000000000000000000000000000000000000000000000000010000 => Square::E1,
            0b0000000000000000000000000000000000000000000000000000000000100000 => Square::F1,
            0b0000000000000000000000000000000000000000000000000000000001000000 => Square::G1,
            0b0000000000000000000000000000000000000000000000000000000010000000 => Square::H1,
            0b0000000000000000000000000000000000000000000000000000000100000000 => Square::A2,
            0b0000000000000000000000000000000000000000000000000000001000000000 => Square::B2,
            0b0000000000000000000000000000000000000000000000000000010000000000 => Square::C2,
            0b0000000000000000000000000000000000000000000000000000100000000000 => Square::D2,
            0b0000000000000000000000000000000000000000000000000001000000000000 => Square::E2,
            0b0000000000000000000000000000000000000000000000000010000000000000 => Square::F2,
            0b0000000000000000000000000000000000000000000000000100000000000000 => Square::G2,
            0b0000000000000000000000000000000000000000000000001000000000000000 => Square::H2,
            0b0000000000000000000000000000000000000000000000010000000000000000 => Square::A3,
            0b0000000000000000000000000000000000000000000000100000000000000000 => Square::B3,
            0b0000000000000000000000000000000000000000000001000000000000000000 => Square::C3,
            0b0000000000000000000000000000000000000000000010000000000000000000 => Square::D3,
            0b0000000000000000000000000000000000000000000100000000000000000000 => Square::E3,
            0b0000000000000000000000000000000000000000001000000000000000000000 => Square::F3,
            0b0000000000000000000000000000000000000000010000000000000000000000 => Square::G3,
            0b0000000000000000000000000000000000000000100000000000000000000000 => Square::H3,
            0b0000000000000000000000000000000000000001000000000000000000000000 => Square::A4,
            0b0000000000000000000000000000000000000010000000000000000000000000 => Square::B4,
            0b0000000000000000000000000000000000000100000000000000000000000000 => Square::C4,
            0b0000000000000000000000000000000000001000000000000000000000000000 => Square::D4,
            0b0000000000000000000000000000000000010000000000000000000000000000 => Square::E4,
            0b0000000000000000000000000000000000100000000000000000000000000000 => Square::F4,
            0b0000000000000000000000000000000001000000000000000000000000000000 => Square::G4,
            0b0000000000000000000000000000000010000000000000000000000000000000 => Square::H4,
            0b0000000000000000000000000000000100000000000000000000000000000000 => Square::A5,
            0b0000000000000000000000000000001000000000000000000000000000000000 => Square::B5,
            0b0000000000000000000000000000010000000000000000000000000000000000 => Square::C5,
            0b0000000000000000000000000000100000000000000000000000000000000000 => Square::D5,
            0b0000000000000000000000000001000000000000000000000000000000000000 => Square::E5,
            0b0000000000000000000000000010000000000000000000000000000000000000 => Square::F5,
            0b0000000000000000000000000100000000000000000000000000000000000000 => Square::G5,
            0b0000000000000000000000001000000000000000000000000000000000000000 => Square::H5,
            0b0000000000000000000000010000000000000000000000000000000000000000 => Square::A6,
            0b0000000000000000000000100000000000000000000000000000000000000000 => Square::B6,
            0b0000000000000000000001000000000000000000000000000000000000000000 => Square::C6,
            0b0000000000000000000010000000000000000000000000000000000000000000 => Square::D6,
            0b0000000000000000000100000000000000000000000000000000000000000000 => Square::E6,
            0b0000000000000000001000000000000000000000000000000000000000000000 => Square::F6,
            0b0000000000000000010000000000000000000000000000000000000000000000 => Square::G6,
            0b0000000000000000100000000000000000000000000000000000000000000000 => Square::H6,
            0b0000000000000001000000000000000000000000000000000000000000000000 => Square::A7,
            0b0000000000000010000000000000000000000000000000000000000000000000 => Square::B7,
            0b0000000000000100000000000000000000000000000000000000000000000000 => Square::C7,
            0b0000000000001000000000000000000000000000000000000000000000000000 => Square::D7,
            0b0000000000010000000000000000000000000000000000000000000000000000 => Square::E7,
            0b0000000000100000000000000000000000000000000000000000000000000000 => Square::F7,
            0b0000000001000000000000000000000000000000000000000000000000000000 => Square::G7,
            0b0000000010000000000000000000000000000000000000000000000000000000 => Square::H7,
            0b0000000100000000000000000000000000000000000000000000000000000000 => Square::A8,
            0b0000001000000000000000000000000000000000000000000000000000000000 => Square::B8,
            0b0000010000000000000000000000000000000000000000000000000000000000 => Square::C8,
            0b0000100000000000000000000000000000000000000000000000000000000000 => Square::D8,
            0b0001000000000000000000000000000000000000000000000000000000000000 => Square::E8,
            0b0010000000000000000000000000000000000000000000000000000000000000 => Square::F8,
            0b0100000000000000000000000000000000000000000000000000000000000000 => Square::G8,
            0b1000000000000000000000000000000000000000000000000000000000000000 => Square::H8,

            _ => Square::UNKNOWN,
        }
    }
}

impl std::fmt::Display for Square {
    fn fmt(&self, f: &mut std::fmt::Formatter) -> std::fmt::Result {
        let square = match self {
            Square::A1 => "a1",
            Square::B1 => "b1",
            Square::C1 => "c1",
            Square::D1 => "d1",
            Square::E1 => "e1",
            Square::F1 => "f1",
            Square::G1 => "g1",
            Square::H1 => "h1",
            Square::A2 => "a2",
            Square::B2 => "b2",
            Square::C2 => "c2",
            Square::D2 => "d2",
            Square::E2 => "e2",
            Square::F2 => "f2",
            Square::G2 => "g2",
            Square::H2 => "h2",
            Square::A3 => "a3",
            Square::B3 => "b3",
            Square::C3 => "c3",
            Square::D3 => "d3",
            Square::E3 => "e3",
            Square::F3 => "f3",
            Square::G3 => "g3",
            Square::H3 => "h3",
            Square::A4 => "a4",
            Square::B4 => "b4",
            Square::C4 => "c4",
            Square::D4 => "d4",
            Square::E4 => "e4",
            Square::F4 => "f4",
            Square::G4 => "g4",
            Square::H4 => "h4",
            Square::A5 => "a5",
            Square::B5 => "b5",
            Square::C5 => "c5",
            Square::D5 => "d5",
            Square::E5 => "e5",
            Square::F5 => "f5",
            Square::G5 => "g5",
            Square::H5 => "h5",
            Square::A6 => "a6",
            Square::B6 => "b6",
            Square::C6 => "c6",
            Square::D6 => "d6",
            Square::E6 => "e6",
            Square::F6 => "f6",
            Square::G6 => "g6",
            Square::H6 => "h6",
            Square::A7 => "a7",
            Square::B7 => "b7",
            Square::C7 => "c7",
            Square::D7 => "d7",
            Square::E7 => "e7",
            Square::F7 => "f7",
            Square::G7 => "g7",
            Square::H7 => "h7",
            Square::A8 => "a8",
            Square::B8 => "b8",
            Square::C8 => "c8",
            Square::D8 => "d8",
            Square::E8 => "e8",
            Square::F8 => "f8",
            Square::G8 => "g8",
            Square::H8 => "h8",
            Square::UNKNOWN => "",
        };
        write!(f, "{}", square)
    }
}

impl Into<u64> for Square {
    fn into(self) -> u64 {
        match self {
            Square::A1 => 0b0000000000000000000000000000000000000000000000000000000000000001,
            Square::B1 => 0b0000000000000000000000000000000000000000000000000000000000000010,
            Square::C1 => 0b0000000000000000000000000000000000000000000000000000000000000100,
            Square::D1 => 0b0000000000000000000000000000000000000000000000000000000000001000,
            Square::E1 => 0b0000000000000000000000000000000000000000000000000000000000010000,
            Square::F1 => 0b0000000000000000000000000000000000000000000000000000000000100000,
            Square::G1 => 0b0000000000000000000000000000000000000000000000000000000001000000,
            Square::H1 => 0b0000000000000000000000000000000000000000000000000000000010000000,
            Square::A2 => 0b0000000000000000000000000000000000000000000000000000000100000000,
            Square::B2 => 0b0000000000000000000000000000000000000000000000000000001000000000,
            Square::C2 => 0b0000000000000000000000000000000000000000000000000000010000000000,
            Square::D2 => 0b0000000000000000000000000000000000000000000000000000100000000000,
            Square::E2 => 0b0000000000000000000000000000000000000000000000000001000000000000,
            Square::F2 => 0b0000000000000000000000000000000000000000000000000010000000000000,
            Square::G2 => 0b0000000000000000000000000000000000000000000000000100000000000000,
            Square::H2 => 0b0000000000000000000000000000000000000000000000001000000000000000,
            Square::A3 => 0b0000000000000000000000000000000000000000000000010000000000000000,
            Square::B3 => 0b0000000000000000000000000000000000000000000000100000000000000000,
            Square::C3 => 0b0000000000000000000000000000000000000000000001000000000000000000,
            Square::D3 => 0b0000000000000000000000000000000000000000000010000000000000000000,
            Square::E3 => 0b0000000000000000000000000000000000000000000100000000000000000000,
            Square::F3 => 0b0000000000000000000000000000000000000000001000000000000000000000,
            Square::G3 => 0b0000000000000000000000000000000000000000010000000000000000000000,
            Square::H3 => 0b0000000000000000000000000000000000000000100000000000000000000000,
            Square::A4 => 0b0000000000000000000000000000000000000001000000000000000000000000,
            Square::B4 => 0b0000000000000000000000000000000000000010000000000000000000000000,
            Square::C4 => 0b0000000000000000000000000000000000000100000000000000000000000000,
            Square::D4 => 0b0000000000000000000000000000000000001000000000000000000000000000,
            Square::E4 => 0b0000000000000000000000000000000000010000000000000000000000000000,
            Square::F4 => 0b0000000000000000000000000000000000100000000000000000000000000000,
            Square::G4 => 0b0000000000000000000000000000000001000000000000000000000000000000,
            Square::H4 => 0b0000000000000000000000000000000010000000000000000000000000000000,
            Square::A5 => 0b0000000000000000000000000000000100000000000000000000000000000000,
            Square::B5 => 0b0000000000000000000000000000001000000000000000000000000000000000,
            Square::C5 => 0b0000000000000000000000000000010000000000000000000000000000000000,
            Square::D5 => 0b0000000000000000000000000000100000000000000000000000000000000000,
            Square::E5 => 0b0000000000000000000000000001000000000000000000000000000000000000,
            Square::F5 => 0b0000000000000000000000000010000000000000000000000000000000000000,
            Square::G5 => 0b0000000000000000000000000100000000000000000000000000000000000000,
            Square::H5 => 0b0000000000000000000000001000000000000000000000000000000000000000,
            Square::A6 => 0b0000000000000000000000010000000000000000000000000000000000000000,
            Square::B6 => 0b0000000000000000000000100000000000000000000000000000000000000000,
            Square::C6 => 0b0000000000000000000001000000000000000000000000000000000000000000,
            Square::D6 => 0b0000000000000000000010000000000000000000000000000000000000000000,
            Square::E6 => 0b0000000000000000000100000000000000000000000000000000000000000000,
            Square::F6 => 0b0000000000000000001000000000000000000000000000000000000000000000,
            Square::G6 => 0b0000000000000000010000000000000000000000000000000000000000000000,
            Square::H6 => 0b0000000000000000100000000000000000000000000000000000000000000000,
            Square::A7 => 0b0000000000000001000000000000000000000000000000000000000000000000,
            Square::B7 => 0b0000000000000010000000000000000000000000000000000000000000000000,
            Square::C7 => 0b0000000000000100000000000000000000000000000000000000000000000000,
            Square::D7 => 0b0000000000001000000000000000000000000000000000000000000000000000,
            Square::E7 => 0b0000000000010000000000000000000000000000000000000000000000000000,
            Square::F7 => 0b0000000000100000000000000000000000000000000000000000000000000000,
            Square::G7 => 0b0000000001000000000000000000000000000000000000000000000000000000,
            Square::H7 => 0b0000000010000000000000000000000000000000000000000000000000000000,
            Square::A8 => 0b0000000100000000000000000000000000000000000000000000000000000000,
            Square::B8 => 0b0000001000000000000000000000000000000000000000000000000000000000,
            Square::C8 => 0b0000010000000000000000000000000000000000000000000000000000000000,
            Square::D8 => 0b0000100000000000000000000000000000000000000000000000000000000000,
            Square::E8 => 0b0001000000000000000000000000000000000000000000000000000000000000,
            Square::F8 => 0b0010000000000000000000000000000000000000000000000000000000000000,
            Square::G8 => 0b0100000000000000000000000000000000000000000000000000000000000000,
            Square::H8 => 0b1000000000000000000000000000000000000000000000000000000000000000,
            Square::UNKNOWN => 0,
        }
    }
}
